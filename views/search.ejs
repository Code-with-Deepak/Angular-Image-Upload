<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Upload Using Angular and Nodejs</title>
    <script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <div ng-app="myApp" ng-controller="myController">
        <nav>
            <img alt="Logo" src="logo.gif" width="50px" height="50px">
            <h1>File Upload Using Angular</h1>
            <button class="search" ng-click="redirect()">Upload Image</button>
        </nav>
      <div ng-app = "myApp">
         <div ng-controller = "myController">
            <input type="text" style="width: 90%;" placeholder="Search By Name " ng-model="sea">
            <br><br>
            <table align="center" >
               <tr>
                  <th>Name</th>
                  <th>Photo</th>
                  <th>Timestamp</th>
               </tr>
            
               <tr ng-repeat = "user in users | filter : sea | orderBy : user.Timestamp">
                  <td>{{ user.Name }}</td>
                  <td><img src="{{user.Logged}}" alt="{{ user.Name}}" width="100px" height="100px"></td>
                  <td>{{ user.Timestamp }}</td>
               </tr>
            </table>
         </div>
      </div>
      
      <script>
            var app = angular.module("myApp",[]);
            app.controller('myController',function($scope,$http,$window){
               $scope.redirect = function(){
               $window.location.href='/'
               }
              $http.get('http://localhost:3000/db/photo').success(function(response){
                console.log(response);
                $scope.users = response;
              }).error(function(data,status){
                 console.log("Error");
              })
            });
      </script>
      
      
   </body>
</html>